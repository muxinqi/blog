{"componentChunkName":"component---src-templates-blog-post-js","path":"/archives/linux-oneclick-script/","result":{"data":{"site":{"siteMetadata":{"title":"Mu Xinqi's Blog"}},"markdownRemark":{"id":"4863ec9f-974f-56e6-94db-b0a4b6de4f7f","excerpt":"一键脚本的目的不是为了让你依赖它， 而是更高效率的完成任务 测试系列 Bench 显示系统信息 世界多处的知名数据中心测试下载 支持 IPv6 下载测速 IO 测试三次，并显示平均值 或者 SuperBench 在 Bench.sh 的基础上，增加了通电时间，虚拟化架构等内容 显示系统信息 测试 IO…","html":"<blockquote>\n<p>一键脚本的目的不是为了让你依赖它，</p>\n<p>而是更高效率的完成任务</p>\n</blockquote>\n<br/>\n<h2>测试系列</h2>\n<h3>Bench</h3>\n<blockquote>\n<ul>\n<li>显示系统信息</li>\n<li>世界多处的知名数据中心测试下载</li>\n<li>支持 IPv6 下载测速</li>\n<li>IO 测试三次，并显示平均值</li>\n</ul>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -qO- bench.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code></pre></div>\n<p>或者</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> -Lso- bench.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code></pre></div>\n<br/>\n<h3>SuperBench</h3>\n<blockquote>\n<ul>\n<li>在 Bench.sh 的基础上，增加了通电时间，虚拟化架构等内容</li>\n<li>显示系统信息</li>\n<li>测试 IO</li>\n<li><strong>Speedtest.net 与国内各节点的上传下载和延迟的测试</strong></li>\n<li>生成结果分享链接</li>\n<li>支持模块化，以参数的形式进行测试（这里不赘述了，详情可以戳下方作者链接）</li>\n</ul>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -qO- git.io/superbench.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code></pre></div>\n<p>或者</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> -Lso- git.io/superbench.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code></pre></div>\n<br/>\n<h3>ZBench</h3>\n<blockquote>\n<p>受到了 SuperBench “也很方便”这个特点的启发而产生的。</p>\n<ul>\n<li>加入了 <strong>Ping</strong> 以及 <strong>路由测试</strong> 功能</li>\n<li>支持生成测试结果分享链接</li>\n</ul>\n</blockquote>\n<h4>中文版</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">bash</span> ZBench-CN.sh</code></pre></div>\n<h4>英文版</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench.sh <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">bash</span> ZBench.sh</code></pre></div>\n<br/>\n<h3>LemonBench</h3>\n<blockquote>\n<ul>\n<li>服务器基础信息 (CPU信息/内存信息/Swap信息/磁盘空间信息/网络信息等)</li>\n<li>流媒体解锁测试 (目前支持HBO Now/动画疯/B站港澳台/B站台湾限定)</li>\n<li>系统性能测试 (CPU/内存/磁盘)</li>\n<li>Speedtest网速测试 (本地到最近源及国内各地域不同线路的网速)</li>\n<li>路由追踪测试 (追踪到国内和海外不同线路的路由信息)</li>\n</ul>\n</blockquote>\n<h4>快速测试</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -qO- http://ilemonra.in/LemonBenchIntl <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> -s fast</code></pre></div>\n<p>或者</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> -fsSL http://ilemonra.in/LemonBenchIntl <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> -s fast</code></pre></div>\n<h4>完整测试</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -qO- http://ilemonra.in/LemonBenchIntl <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> -s full</code></pre></div>\n<p>或者</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> -fsSL http://ilemonra.in/LemonBenchIntl <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> -s full</code></pre></div>\n<br/>\n<h3>BestTrace</h3>\n<blockquote>\n<p>BestTrace 可用于<strong>回程路由测试</strong></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 下载</span>\n<span class=\"token function\">wget</span> https://cdn.ipip.net/17mon/besttrace4linux.zip <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">unzip</span> besttrace4linux.zip <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">chmod</span> +x besttrace\n\n<span class=\"token comment\"># 测试回程路由 以 google.com 为例</span>\n./besttrace -q <span class=\"token number\">1</span> google.com\n\n<span class=\"token comment\"># 更多功能</span>\n./besttrace</code></pre></div>\n<br/>\n<h2>优化系列</h2>\n<h3>Linux 网络重装</h3>\n<blockquote>\n<p>一键安装官方纯净版系统，告别系统自带后门，漏洞等问题。</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">bash</span> <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token function\">wget</span> --no-check-certificate -qO- <span class=\"token string\">'https://moeclub.org/attachment/LinuxShell/InstallNET.sh'</span><span class=\"token punctuation\">)</span> -d <span class=\"token number\">9</span> -v <span class=\"token number\">64</span> -a</code></pre></div>\n<p>默认密码为 <code class=\"language-text\">MoeClub.org</code></p>\n<br/>\n<h4>Google BBR</h4>\n<blockquote>\n<p>Google 开源的 TCP 拥堵控制算法，可以有效提升 TCP 传输效率。</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">chmod</span> +x bbr.sh <span class=\"token operator\">&amp;&amp;</span> ./bbr.sh</code></pre></div>\n<br/>\n<h3>TCP加速N合一脚本</h3>\n<blockquote>\n<p>一键安装常用加速内核脚本</p>\n<ul>\n<li>BBR</li>\n<li>BBR Plus</li>\n<li>XANMOD</li>\n<li>ZEN</li>\n<li>BBR2</li>\n<li>Lotserver（锐速）</li>\n</ul>\n</blockquote>\n<h4>卸载内核版</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -N --no-check-certificate <span class=\"token string\">\"https://github.000060000.xyz/tcp.sh\"</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">chmod</span> +x tcp.sh <span class=\"token operator\">&amp;&amp;</span> ./tcp.sh</code></pre></div>\n<h4>不卸载内核版</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -N --no-check-certificate <span class=\"token string\">\"https://github.000060000.xyz/tcpx.sh\"</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">chmod</span> +x tcpx.sh <span class=\"token operator\">&amp;&amp;</span> ./tcpx.sh</code></pre></div>\n<br/>\n<h3>ntpdate</h3>\n<blockquote>\n<p>用于校对时间</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 安装ntpdate</span>\n\n<span class=\"token comment\"># RHEL/Fedora/CentOS</span>\nyum -y <span class=\"token function\">install</span> ntpdate\n<span class=\"token comment\"># Debian/Ubuntu</span>\n<span class=\"token function\">apt</span> -y <span class=\"token function\">install</span> ntpdate\n\n<span class=\"token comment\"># 同步时间</span>\nntpdate -u pool.ntp.org\n\n<span class=\"token comment\"># 查看时间是否正确</span>\n<span class=\"token function\">date</span></code></pre></div>\n<p>为了避免过一段时间，服务器的时间出现偏差，使用crontab来定时同步时间</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 编辑crontab任务</span>\n<span class=\"token function\">crontab</span> -e\n\n<span class=\"token comment\"># 添加定时任务</span>\n*/30 * * * * /usr/sbin/ntpdate pool.ntp.org <span class=\"token operator\">></span> /dev/null <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span>\n\n<span class=\"token comment\"># 重启crontab</span>\nsystemctl reload crond</code></pre></div>\n<br/>\n<h2>功能系列</h2>\n<h3>安装 Docker</h3>\n<blockquote>\n<p>简单概括起来就是，Docker 是个容器，什么都能往里塞，你也可以理解为是一个轻量化的虚拟机。</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 一键安装</span>\n<span class=\"token function\">wget</span> -qO- get.docker.com <span class=\"token operator\">|</span> <span class=\"token function\">bash</span>\n\n<span class=\"token comment\"># 查看 Docker 版本</span>\ndocker version\n\n<span class=\"token comment\"># 启动 Docker</span>\nsystemctl start docker\n\n<span class=\"token comment\"># 允许 Docker 开机自启</span>\nsystemctl <span class=\"token builtin class-name\">enable</span> docker</code></pre></div>\n<br/>\n<h3>安装 Docker Compose</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 下载 Docker Compose</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> -L <span class=\"token string\">\"https://github.com/docker/compose/releases/download/1.26.2/docker-compose-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -s<span class=\"token variable\">)</span></span>-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -m<span class=\"token variable\">)</span></span>\"</span> -o /usr/local/bin/docker-compose\n\n<span class=\"token comment\"># 授予执行权限</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose\n\n<span class=\"token comment\"># 软连接</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">ln</span> -s /usr/local/bin/docker-compose /usr/bin/docker-compose\n\n<span class=\"token comment\"># 检查版本</span>\ndocker-compose --version</code></pre></div>","frontmatter":{"title":"Linux一键脚本(自用)","date":"September 14, 2018","description":"📍 收集平时会用到的命令或脚本，不定期更新。"}},"previous":{"fields":{"slug":"/archives/first-credit-card/"},"frontmatter":{"title":"记人生中第一张信用卡","slug":"first-credit-card"}},"next":null},"pageContext":{"id":"4863ec9f-974f-56e6-94db-b0a4b6de4f7f","previousPostId":"1fd9d250-c848-51f8-9b7a-72e963d0b65b","nextPostId":null}},"staticQueryHashes":["2841359383","916993862"]}