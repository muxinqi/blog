{"componentChunkName":"component---src-templates-blog-post-js","path":"/archives/linux-oneclick-script/","result":{"data":{"site":{"siteMetadata":{"title":"Mu Xinqi's Blog"}},"markdownRemark":{"id":"4863ec9f-974f-56e6-94db-b0a4b6de4f7f","excerpt":"ä¸€é”®è„šæœ¬çš„ç›®çš„ä¸æ˜¯ä¸ºäº†è®©ä½ ä¾èµ–å®ƒï¼Œ è€Œæ˜¯æ›´é«˜æ•ˆç‡çš„å®Œæˆä»»åŠ¡ æµ‹è¯•ç³»åˆ— Bench æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯ ä¸–ç•Œå¤šå¤„çš„çŸ¥åæ•°æ®ä¸­å¿ƒæµ‹è¯•ä¸‹è½½ æ”¯æŒ IPv6 ä¸‹è½½æµ‹é€Ÿ IO æµ‹è¯•ä¸‰æ¬¡ï¼Œå¹¶æ˜¾ç¤ºå¹³å‡å€¼ æˆ–è€… SuperBench åœ¨ Bench.sh çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†é€šç”µæ—¶é—´ï¼Œè™šæ‹ŸåŒ–æ¶æ„ç­‰å†…å®¹ æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯ æµ‹è¯• IOâ€¦","html":"<blockquote>\n<p>ä¸€é”®è„šæœ¬çš„ç›®çš„ä¸æ˜¯ä¸ºäº†è®©ä½ ä¾èµ–å®ƒï¼Œ</p>\n<p>è€Œæ˜¯æ›´é«˜æ•ˆç‡çš„å®Œæˆä»»åŠ¡</p>\n</blockquote>\n<br/>\n<h2>æµ‹è¯•ç³»åˆ—</h2>\n<h3>Bench</h3>\n<blockquote>\n<ul>\n<li>æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯</li>\n<li>ä¸–ç•Œå¤šå¤„çš„çŸ¥åæ•°æ®ä¸­å¿ƒæµ‹è¯•ä¸‹è½½</li>\n<li>æ”¯æŒ IPv6 ä¸‹è½½æµ‹é€Ÿ</li>\n<li>IO æµ‹è¯•ä¸‰æ¬¡ï¼Œå¹¶æ˜¾ç¤ºå¹³å‡å€¼</li>\n</ul>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -qO- bench.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code></pre></div>\n<p>æˆ–è€…</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> -Lso- bench.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code></pre></div>\n<br/>\n<h3>SuperBench</h3>\n<blockquote>\n<ul>\n<li>åœ¨ Bench.sh çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†é€šç”µæ—¶é—´ï¼Œè™šæ‹ŸåŒ–æ¶æ„ç­‰å†…å®¹</li>\n<li>æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯</li>\n<li>æµ‹è¯• IO</li>\n<li><strong>Speedtest.net ä¸å›½å†…å„èŠ‚ç‚¹çš„ä¸Šä¼ ä¸‹è½½å’Œå»¶è¿Ÿçš„æµ‹è¯•</strong></li>\n<li>ç”Ÿæˆç»“æœåˆ†äº«é“¾æ¥</li>\n<li>æ”¯æŒæ¨¡å—åŒ–ï¼Œä»¥å‚æ•°çš„å½¢å¼è¿›è¡Œæµ‹è¯•ï¼ˆè¿™é‡Œä¸èµ˜è¿°äº†ï¼Œè¯¦æƒ…å¯ä»¥æˆ³ä¸‹æ–¹ä½œè€…é“¾æ¥ï¼‰</li>\n</ul>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -qO- git.io/superbench.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code></pre></div>\n<p>æˆ–è€…</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> -Lso- git.io/superbench.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code></pre></div>\n<br/>\n<h3>ZBench</h3>\n<blockquote>\n<p>å—åˆ°äº† SuperBench â€œä¹Ÿå¾ˆæ–¹ä¾¿â€è¿™ä¸ªç‰¹ç‚¹çš„å¯å‘è€Œäº§ç”Ÿçš„ã€‚</p>\n<ul>\n<li>åŠ å…¥äº† <strong>Ping</strong> ä»¥åŠ <strong>è·¯ç”±æµ‹è¯•</strong> åŠŸèƒ½</li>\n<li>æ”¯æŒç”Ÿæˆæµ‹è¯•ç»“æœåˆ†äº«é“¾æ¥</li>\n</ul>\n</blockquote>\n<h4>ä¸­æ–‡ç‰ˆ</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">bash</span> ZBench-CN.sh</code></pre></div>\n<h4>è‹±æ–‡ç‰ˆ</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench.sh <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">bash</span> ZBench.sh</code></pre></div>\n<br/>\n<h3>LemonBench</h3>\n<blockquote>\n<ul>\n<li>æœåŠ¡å™¨åŸºç¡€ä¿¡æ¯ (CPUä¿¡æ¯/å†…å­˜ä¿¡æ¯/Swapä¿¡æ¯/ç£ç›˜ç©ºé—´ä¿¡æ¯/ç½‘ç»œä¿¡æ¯ç­‰)</li>\n<li>æµåª’ä½“è§£é”æµ‹è¯• (ç›®å‰æ”¯æŒHBO Now/åŠ¨ç”»ç–¯/Bç«™æ¸¯æ¾³å°/Bç«™å°æ¹¾é™å®š)</li>\n<li>ç³»ç»Ÿæ€§èƒ½æµ‹è¯• (CPU/å†…å­˜/ç£ç›˜)</li>\n<li>Speedtestç½‘é€Ÿæµ‹è¯• (æœ¬åœ°åˆ°æœ€è¿‘æºåŠå›½å†…å„åœ°åŸŸä¸åŒçº¿è·¯çš„ç½‘é€Ÿ)</li>\n<li>è·¯ç”±è¿½è¸ªæµ‹è¯• (è¿½è¸ªåˆ°å›½å†…å’Œæµ·å¤–ä¸åŒçº¿è·¯çš„è·¯ç”±ä¿¡æ¯)</li>\n</ul>\n</blockquote>\n<h4>å¿«é€Ÿæµ‹è¯•</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -qO- http://ilemonra.in/LemonBenchIntl <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> -s fast</code></pre></div>\n<p>æˆ–è€…</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> -fsSL http://ilemonra.in/LemonBenchIntl <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> -s fast</code></pre></div>\n<h4>å®Œæ•´æµ‹è¯•</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -qO- http://ilemonra.in/LemonBenchIntl <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> -s full</code></pre></div>\n<p>æˆ–è€…</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> -fsSL http://ilemonra.in/LemonBenchIntl <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> -s full</code></pre></div>\n<br/>\n<h3>BestTrace</h3>\n<blockquote>\n<p>BestTrace å¯ç”¨äº<strong>å›ç¨‹è·¯ç”±æµ‹è¯•</strong></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ä¸‹è½½</span>\n<span class=\"token function\">wget</span> https://cdn.ipip.net/17mon/besttrace4linux.zip <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">unzip</span> besttrace4linux.zip <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">chmod</span> +x besttrace\n\n<span class=\"token comment\"># æµ‹è¯•å›ç¨‹è·¯ç”± ä»¥ google.com ä¸ºä¾‹</span>\n./besttrace -q <span class=\"token number\">1</span> google.com\n\n<span class=\"token comment\"># æ›´å¤šåŠŸèƒ½</span>\n./besttrace</code></pre></div>\n<br/>\n<h2>ä¼˜åŒ–ç³»åˆ—</h2>\n<h3>Linux ç½‘ç»œé‡è£…</h3>\n<blockquote>\n<p>ä¸€é”®å®‰è£…å®˜æ–¹çº¯å‡€ç‰ˆç³»ç»Ÿï¼Œå‘Šåˆ«ç³»ç»Ÿè‡ªå¸¦åé—¨ï¼Œæ¼æ´ç­‰é—®é¢˜ã€‚</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">bash</span> <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token function\">wget</span> --no-check-certificate -qO- <span class=\"token string\">'https://moeclub.org/attachment/LinuxShell/InstallNET.sh'</span><span class=\"token punctuation\">)</span> -d <span class=\"token number\">9</span> -v <span class=\"token number\">64</span> -a</code></pre></div>\n<p>é»˜è®¤å¯†ç ä¸º <code class=\"language-text\">MoeClub.org</code></p>\n<br/>\n<h4>Google BBR</h4>\n<blockquote>\n<p>Google å¼€æºçš„ TCP æ‹¥å µæ§åˆ¶ç®—æ³•ï¼Œå¯ä»¥æœ‰æ•ˆæå‡ TCP ä¼ è¾“æ•ˆç‡ã€‚</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">chmod</span> +x bbr.sh <span class=\"token operator\">&amp;&amp;</span> ./bbr.sh</code></pre></div>\n<br/>\n<h3>TCPåŠ é€ŸNåˆä¸€è„šæœ¬</h3>\n<blockquote>\n<p>ä¸€é”®å®‰è£…å¸¸ç”¨åŠ é€Ÿå†…æ ¸è„šæœ¬</p>\n<ul>\n<li>BBR</li>\n<li>BBR Plus</li>\n<li>XANMOD</li>\n<li>ZEN</li>\n<li>BBR2</li>\n<li>Lotserverï¼ˆé”é€Ÿï¼‰</li>\n</ul>\n</blockquote>\n<h4>å¸è½½å†…æ ¸ç‰ˆ</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -N --no-check-certificate <span class=\"token string\">\"https://github.000060000.xyz/tcp.sh\"</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">chmod</span> +x tcp.sh <span class=\"token operator\">&amp;&amp;</span> ./tcp.sh</code></pre></div>\n<h4>ä¸å¸è½½å†…æ ¸ç‰ˆ</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -N --no-check-certificate <span class=\"token string\">\"https://github.000060000.xyz/tcpx.sh\"</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">chmod</span> +x tcpx.sh <span class=\"token operator\">&amp;&amp;</span> ./tcpx.sh</code></pre></div>\n<br/>\n<h3>ntpdate</h3>\n<blockquote>\n<p>ç”¨äºæ ¡å¯¹æ—¶é—´</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># å®‰è£…ntpdate</span>\n\n<span class=\"token comment\"># RHEL/Fedora/CentOS</span>\nyum -y <span class=\"token function\">install</span> ntpdate\n<span class=\"token comment\"># Debian/Ubuntu</span>\n<span class=\"token function\">apt</span> -y <span class=\"token function\">install</span> ntpdate\n\n<span class=\"token comment\"># åŒæ­¥æ—¶é—´</span>\nntpdate -u pool.ntp.org\n\n<span class=\"token comment\"># æŸ¥çœ‹æ—¶é—´æ˜¯å¦æ­£ç¡®</span>\n<span class=\"token function\">date</span></code></pre></div>\n<p>ä¸ºäº†é¿å…è¿‡ä¸€æ®µæ—¶é—´ï¼ŒæœåŠ¡å™¨çš„æ—¶é—´å‡ºç°åå·®ï¼Œä½¿ç”¨crontabæ¥å®šæ—¶åŒæ­¥æ—¶é—´</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ç¼–è¾‘crontabä»»åŠ¡</span>\n<span class=\"token function\">crontab</span> -e\n\n<span class=\"token comment\"># æ·»åŠ å®šæ—¶ä»»åŠ¡</span>\n*/30 * * * * /usr/sbin/ntpdate pool.ntp.org <span class=\"token operator\">></span> /dev/null <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span>\n\n<span class=\"token comment\"># é‡å¯crontab</span>\nsystemctl reload crond</code></pre></div>\n<br/>\n<h2>åŠŸèƒ½ç³»åˆ—</h2>\n<h3>å®‰è£… Docker</h3>\n<blockquote>\n<p>ç®€å•æ¦‚æ‹¬èµ·æ¥å°±æ˜¯ï¼ŒDocker æ˜¯ä¸ªå®¹å™¨ï¼Œä»€ä¹ˆéƒ½èƒ½å¾€é‡Œå¡ï¼Œä½ ä¹Ÿå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªè½»é‡åŒ–çš„è™šæ‹Ÿæœºã€‚</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ä¸€é”®å®‰è£…</span>\n<span class=\"token function\">wget</span> -qO- get.docker.com <span class=\"token operator\">|</span> <span class=\"token function\">bash</span>\n\n<span class=\"token comment\"># æŸ¥çœ‹ Docker ç‰ˆæœ¬</span>\ndocker version\n\n<span class=\"token comment\"># å¯åŠ¨ Docker</span>\nsystemctl start docker\n\n<span class=\"token comment\"># å…è®¸ Docker å¼€æœºè‡ªå¯</span>\nsystemctl <span class=\"token builtin class-name\">enable</span> docker</code></pre></div>\n<br/>\n<h3>å®‰è£… Docker Compose</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ä¸‹è½½ Docker Compose</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> -L <span class=\"token string\">\"https://github.com/docker/compose/releases/download/1.26.2/docker-compose-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -s<span class=\"token variable\">)</span></span>-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -m<span class=\"token variable\">)</span></span>\"</span> -o /usr/local/bin/docker-compose\n\n<span class=\"token comment\"># æˆäºˆæ‰§è¡Œæƒé™</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose\n\n<span class=\"token comment\"># è½¯è¿æ¥</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">ln</span> -s /usr/local/bin/docker-compose /usr/bin/docker-compose\n\n<span class=\"token comment\"># æ£€æŸ¥ç‰ˆæœ¬</span>\ndocker-compose --version</code></pre></div>","frontmatter":{"title":"Linuxä¸€é”®è„šæœ¬(è‡ªç”¨)","date":"September 14, 2018","description":"ğŸ“ æ”¶é›†å¹³æ—¶ä¼šç”¨åˆ°çš„å‘½ä»¤æˆ–è„šæœ¬ï¼Œä¸å®šæœŸæ›´æ–°ã€‚"}},"previous":{"fields":{"slug":"/archives/first-credit-card/"},"frontmatter":{"title":"è®°äººç”Ÿä¸­ç¬¬ä¸€å¼ ä¿¡ç”¨å¡","slug":"first-credit-card"}},"next":null},"pageContext":{"id":"4863ec9f-974f-56e6-94db-b0a4b6de4f7f","previousPostId":"1fd9d250-c848-51f8-9b7a-72e963d0b65b","nextPostId":null}},"staticQueryHashes":["2841359383","916993862"]}